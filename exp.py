from pwnIO import *
# io=pwnIO('/bin/bash','2.23')
# add=io.add_func('test',1)
# add(1,2,3)
# add.set_condition('sleep',{1:10})
# add.add_conditions('gdb.attach')
# add.set_condition('gdb.attach',{2:[io.io,"b $rebase(0x1234)"]})
# add(1,2,3)
# io.it()
flag_dir={}
ip=[]
port=[]
def exploit(ip,port):
    io=pwnIO('/bin/bash',ip,port)
    add=io.add_func("add")
    rm=io.add_func("rm")
    ed=io.add_func("ed")
    sw=io.add_func("sw")
    add.set_condition("send",[-1])
    rm.set_condition("send",[-1])
    ed.set_condition("send",[-1])
    sw.set_condition("send",[-1])
#    io.it()
#     io.sl("cat /flag")
#     flag=io.r()
#     return flag_dir.update({ip:{port:flag}})
# for i in port:
#     for j in ip:
#         exploit(j,i)
# for ip,value in flag_dir:
#     for port,flag in value:
#         print("ip="+ip+"   port="+str(port)+"   flag="+flag)
    